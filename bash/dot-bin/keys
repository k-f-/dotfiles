#!/usr/bin/env bash

# keys - Display keybindings reference
# Usage: keys [section]

[[ -f "${HOME}/.config/dotfiles/env" ]] && source "${HOME}/.config/dotfiles/env"
DOTFILES="${DOTFILES_DIR:?DOTFILES_DIR not set â€” run ./install first}"

KEYBINDINGS_FILE="${DOTFILES}/docs/KEYBINDINGS.md"

if [[ ! -f "$KEYBINDINGS_FILE" ]]; then
    echo "Error: Keybindings file not found at $KEYBINDINGS_FILE"
    exit 1
fi

# Check if bat is available, otherwise fall back to less
if command -v bat &> /dev/null; then
    bat --style=auto --paging=always --language=markdown "$KEYBINDINGS_FILE"
else
    less -R "$KEYBINDINGS_FILE"
fi
